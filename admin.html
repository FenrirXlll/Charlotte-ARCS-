
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Administración - Charlotte ARCS</title>
  <meta name="description" content="Panel de administración de Charlotte ARCS.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Enlace a la biblioteca de Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- Estilos CSS -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/footer.css">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <!-- Cabecera (Igual que en index.html) -->
  <header id="main-header">
    <!-- ... Contenido igual que en index.html ... -->
  </header>

  <!-- Contenido principal -->
  <main>
    <!-- Título de la página -->
    <section class="page-heading">
      <div class="container">
        <h1>Panel de Administración</h1>
        <div class="breadcrumbs">
          <a href="index.html">Inicio</a> / <span>Administración</span>
        </div>
      </div>
    </section>

    <!-- Contenido del panel de administración -->
    <section class="admin-panel" style="display: none;">
      <div class="container">
        <div class="admin-tabs">
          <button class="admin-tab active" data-tab="products">Productos</button>
          <button class="admin-tab" data-tab="orders">Pedidos</button>
          <button class="admin-tab" data-tab="comments">Comentarios</button>
          <button class="admin-tab" data-tab="settings">Configuración</button>
        </div>
        
        <!-- Tab de Productos -->
        <div class="admin-tab-content active" id="products-tab">
          <div class="admin-header">
            <h2>Gestión de Productos</h2>
            <button id="show-add-product-form" class="btn primary-btn">Añadir Producto</button>
          </div>
          
          <!-- Sección para añadir producto -->
          <div id="add-product-section" class="admin-form-section">
            <h3>Añadir Nuevo Producto</h3>
            <form id="add-product-form">
              <div class="form-group">
                <label for="add-product-name">Nombre del Producto *</label>
                <input type="text" id="add-product-name" required>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="add-product-price">Precio *</label>
                  <input type="number" id="add-product-price" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                  <label for="add-product-inventory">Inventario</label>
                  <input type="number" id="add-product-inventory" min="0" value="0">
                </div>
              </div>
              <div class="form-group">
                <label for="add-product-category">Categoría *</label>
                <select id="add-product-category" required>
                  <option value="">Seleccionar categoría</option>
                  <option value="women">Mujeres</option>
                  <option value="men">Hombres</option>
                  <option value="youth">Jóvenes</option>
                  <option value="baby">Bebés</option>
                  <option value="accessories">Accesorios</option>
                </select>
              </div>
              <div class="form-group">
                <label for="add-product-description">Descripción *</label>
                <textarea id="add-product-description" rows="4" required></textarea>
              </div>
              <div class="form-row">
                <div class="form-group checkbox-group">
                  <label>
                    <input type="checkbox" id="add-product-is-new"> Marcar como Nuevo
                  </label>
                </div>
                <div class="form-group">
                  <label for="add-product-discount">Descuento (%)</label>
                  <input type="number" id="add-product-discount" min="0" max="100" value="0">
                </div>
              </div>
              <div class="form-group">
                <label for="add-product-image">Imagen del Producto *</label>
                <input type="file" id="add-product-image" accept="image/*" required>
                <div id="add-image-preview" class="image-preview"></div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary-btn">Guardar Producto</button>
                <button type="reset" class="btn outline-btn">Cancelar</button>
              </div>
            </form>
          </div>
          
          <!-- Sección para editar producto -->
          <div id="edit-product-section" class="admin-form-section" style="display: none;">
            <h3>Editar Producto</h3>
            <form id="edit-product-form" data-product-id="">
              <div class="form-group">
                <label for="edit-product-name">Nombre del Producto *</label>
                <input type="text" id="edit-product-name" required>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="edit-product-price">Precio *</label>
                  <input type="number" id="edit-product-price" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                  <label for="edit-product-inventory">Inventario</label>
                  <input type="number" id="edit-product-inventory" min="0">
                </div>
              </div>
              <div class="form-group">
                <label for="edit-product-category">Categoría *</label>
                <select id="edit-product-category" required>
                  <option value="">Seleccionar categoría</option>
                  <option value="women">Mujeres</option>
                  <option value="men">Hombres</option>
                  <option value="youth">Jóvenes</option>
                  <option value="baby">Bebés</option>
                  <option value="accessories">Accesorios</option>
                </select>
              </div>
              <div class="form-group">
                <label for="edit-product-description">Descripción *</label>
                <textarea id="edit-product-description" rows="4" required></textarea>
              </div>
              <div class="form-row">
                <div class="form-group checkbox-group">
                  <label>
                    <input type="checkbox" id="edit-product-is-new"> Marcar como Nuevo
                  </label>
                </div>
                <div class="form-group">
                  <label for="edit-product-discount">Descuento (%)</label>
                  <input type="number" id="edit-product-discount" min="0" max="100">
                </div>
              </div>
              <div class="form-group">
                <label>Imagen Actual</label>
                <img id="edit-current-image" class="current-image-preview" src="" alt="Imagen actual del producto">
              </div>
              <div class="form-group">
                <label for="edit-product-image">Nueva Imagen (opcional)</label>
                <input type="file" id="edit-product-image" accept="image/*">
                <div id="edit-image-preview" class="image-preview"></div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary-btn">Actualizar Producto</button>
                <button type="button" id="cancel-edit" class="btn outline-btn">Cancelar</button>
              </div>
            </form>
          </div>
          
          <!-- Lista de productos -->
          <div id="products-list" class="admin-list-section">
            <!-- Los productos se cargarán dinámicamente -->
            <p id="admin-loading">Cargando productos...</p>
          </div>
        </div>
        
        <!-- Tab de Pedidos -->
        <div class="admin-tab-content" id="orders-tab">
          <div class="admin-header">
            <h2>Gestión de Pedidos</h2>
          </div>
          
          <!-- Filtros de pedidos -->
          <div class="orders-filters">
            <div class="form-row">
              <div class="form-group">
                <label for="order-status-filter">Estado</label>
                <select id="order-status-filter">
                  <option value="">Todos los estados</option>
                  <option value="pending">Pendiente</option>
                  <option value="processing">Procesando</option>
                  <option value="shipped">Enviado</option>
                  <option value="delivered">Entregado</option>
                  <option value="cancelled">Cancelado</option>
                </select>
              </div>
              <div class="form-group">
                <label for="order-date-filter">Fecha</label>
                <input type="date" id="order-date-filter">
              </div>
              <div class="form-actions">
                <button id="filter-orders" class="btn primary-btn">Filtrar</button>
                <button id="reset-order-filters" class="btn outline-btn">Restablecer</button>
              </div>
            </div>
          </div>
          
          <!-- Lista de pedidos -->
          <div id="orders-list" class="admin-list-section">
            <!-- Los pedidos se cargarán dinámicamente -->
            <p>Cargando pedidos...</p>
          </div>
        </div>
        
        <!-- Tab de Comentarios -->
        <div class="admin-tab-content" id="comments-tab">
          <div class="admin-header">
            <h2>Gestión de Comentarios</h2>
          </div>
          
          <!-- Lista de comentarios -->
          <div id="comments-list" class="admin-list-section">
            <!-- Los comentarios se cargarán dinámicamente -->
            <p>Cargando comentarios...</p>
          </div>
        </div>
        
        <!-- Tab de Configuración -->
        <div class="admin-tab-content" id="settings-tab">
          <div class="admin-header">
            <h2>Configuración del Sitio</h2>
          </div>
          
          <!-- Formulario de configuración -->
          <div class="admin-form-section">
            <form id="site-settings-form">
              <div class="form-group checkbox-group">
                <label>
                  <input type="checkbox" id="setting-shop-enabled" checked> Tienda habilitada
                </label>
                <p class="form-help">Desactiva esta opción para poner la tienda en modo mantenimiento.</p>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="setting-shipping-rate">Tarifa de envío ($)</label>
                  <input type="number" id="setting-shipping-rate" step="0.01" min="0" value="5.00">
                </div>
                <div class="form-group">
                  <label for="setting-free-shipping-threshold">Umbral para envío gratuito ($)</label>
                  <input type="number" id="setting-free-shipping-threshold" step="0.01" min="0" value="50.00">
                  <p class="form-help">Los pedidos por encima de este monto tendrán envío gratuito.</p>
                </div>
              </div>
              
              <div class="form-group">
                <label for="setting-store-notice">Anuncio de la tienda</label>
                <textarea id="setting-store-notice" rows="2" placeholder="Ej: ¡Envío gratis en pedidos mayores a $50!"></textarea>
                <p class="form-help">Se mostrará en la parte superior de la tienda.</p>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="btn primary-btn">Guardar Configuración</button>
                <button type="reset" class="btn outline-btn">Restablecer</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Sección de carga -->
    <section id="admin-loading" class="admin-loading">
      <div class="container">
        <div class="loading-content">
          <p>Verificando permisos de administrador...</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Pie de página (Igual que en index.html) -->
  <footer>
    <!-- ... Contenido igual que en index.html ... -->
  </footer>

  <!-- Scripts -->
  <script src="js/supabase.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/header.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
